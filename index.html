<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
      <title>Ayo Stalking Github Teman mu :*</title>
   </head>

   <body class="bg-gray-900 text-white">
      <div id="app" class="min-h-screen flex items-center justify-center">
         <div class="container mx-auto text-center">
            <h1 class="text-3xl font-bold mb-4">Ayo Stalking Github Teman mu :*</h1>
            <div class="mb-4 flex flex-col items-center">
               <input v-model="username"
                  class="bg-gray-800 border p-2 rounded-md text-white w-80 transition focus:outline-none focus:ring focus:border-blue-300 mb-3"
                  placeholder="(misal Yusuf tampan)" required>
               <button @click="getUserProfile"
                  class="bg-gray-700 text-white p-2 rounded-md transition hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300">Penasaran
                  yaa...</button>
            </div>
            <div v-if="loading" class="max-w-sm mx-auto bg-gray-800 p-4 rounded-md animate-pulse">
               <div class="bg-gray-700 h-12 w-full rounded mb-2"></div>
               <div class="bg-gray-700 h-4 w-3/4 rounded mb-2"></div>
               <div class="bg-gray-700 h-4 w-1/2 rounded mb-2"></div>
            </div>
            <div v-else-if="userData">
               <div class="max-w-sm mx-auto bg-gray-800 p-4 rounded-md">
                  <img :src="userData.avatar_url" alt="Avatar" class="rounded-full mb-4 w-40 h-40 mx-auto">
                  <h2 class="text-xl font-bold">{{ userData.name }}</h2>
                  <p class="text-gray-400">{{ userData.bio }}</p>
                  <ul class="mt-4">
                     <li><strong>Jumlah Fans:</strong> {{ userData.followers }} Orang</li>
                     <li><strong>Terpaksa Follow:</strong> {{ userData.following }} Orang</li>
                     <li><strong>Total Repo Pemula:</strong> {{ userData.public_repos }} Biji</li>
                  </ul>
               </div>
            </div>
         </div>
      </div>

      <script>
         new Vue({
            el: '#app',
            data: {
               username: 'limitedYusuf',
               userData: null,
               loading: false
            },
            methods: {
               async getUserProfile() {
                  if (this.username) {
                     this.loading = true;
                     try {
                        const response = await fetch(`https://api.github.com/users/${this.username}`);
                        this.userData = await response.json();
                     } catch (error) {
                        console.error('Kok gak ada => ', error);
                        this.userData = null;
                     } finally {
                        this.loading = false;
                     }
                  } else {
                     alert('Ente niat stalk gak sih?');
                  }
               }
            }
         });
      </script>
   </body>

</html>